<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VRE Group - Home</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Default favicon -->
    <link id="dynamic-favicon" rel="icon" type="image/png" href="./images/android-chrome-192x192.png">
    <script>
        // Logic to dynamically decide the favicon
        function setFavicon() {
            const favicon = document.getElementById('dynamic-favicon');
            const isAppleDevice = /iPhone|iPad|iPod/i.test(navigator.userAgent);
            const isHighResolution = window.devicePixelRatio > 1.5;

            if (isAppleDevice) {
                favicon.href = './images/apple-touch-icon.png';
            } else if (isHighResolution) {
                favicon.href = './images/android-chrome-512x512.png';
            } else {
                favicon.href = './images/android-chrome-192x192.png';
            }
        }

        // Call the function on page load
        window.addEventListener('load', setFavicon);
    </script>
</head>
<body class="cyberpunk-theme">
    <header class="lesson-header star-wars-header">
        <img src="./images/header-animation.gif" alt="Header Animation" class="header-animation">
        <h1 class="highlighted-title">Welcome to the Virtual Reality Entertainment (VRE) Group</h1>
    </header>
    <nav class="navbar star-wars-panel">
        <div class="nav-buttons">
            <a href="./apps/index.html" class="button">Appeals</a>
            <a href="./staff-training/index.html" class="button" onclick="return verifyPassword()">Staff Training</a>
            <a href="./news/vre-newsletter.html" class="button">Newsletter</a>
            <a href="./signal/index.html" class="button">Signal by VRE</a>
            <a href="./staff-resources/index.html" class="button" onclick="return verifyPassword()">Staff Resources </a>
        </div>
    </nav>
    <main>
        <p class="lesson-body cyberpunk-body">
            <span class="highlight">Welcome to the Virtual Reality Entertainment (VRE) Group!</span><br />
            We are a cutting-edge event-entertainment organization dedicated to bringing people together through the immersive power of <span class="highlight">Virtual Reality platforms</span>. Whether you're here to connect, learn, or simply have fun, VRE is your gateway to unforgettable experiences.
        </p>
        <p class="lesson-body cyberpunk-body">
            Our mission is simple yet impactful: <span class="highlight">to create inclusive, engaging, and innovative spaces</span> where people from all walks of life can come together and share meaningful moments. From thrilling VR adventures to collaborative workshops, we strive to redefine what it means to connect in the digital age.
        </p>
        <h2 class="section-title cyberpunk-subheading">Our Platforms</h2>
        <ul class="styled-list cyberpunk-list">
            <li><i class="fas fa-vr-cardboard"></i> <span class="highlight">VRChat:</span> Dive into a world of endless creativity and social interaction.</li>
            <li><i class="fab fa-discord"></i> <span class="highlight">Discord:</span> Stay connected with our vibrant community through text, voice, and video.</li>
            <li><i class="fas fa-car"></i> <span class="highlight">FiveM:</span> Experience immersive roleplay and custom game modes in GTA V.</li>
            <li><i class="fas fa-cubes"></i> <span class="highlight">Minecraft:</span> Build, explore, and collaborate in our custom-crafted worlds.</li>
            <li><i class="fab fa-youtube"></i> <span class="highlight">YouTube:</span> Relive our best moments and catch exclusive content on our channel.</li>
        </ul>
        <p class="lesson-body cyberpunk-body">
            <span class="highlight">Why Choose VRE?</span><br />
            At VRE, we believe in the power of community. Our events are designed to foster creativity, collaboration, and connection. Whether you're a seasoned VR enthusiast or new to the scene, there's a place for you here. Join us and be part of a movement that's shaping the future of entertainment and social interaction.
        </p>
        <div class="platforms lessons star-wars-panel">
            <h2 class="section-title cyberpunk-subheading">Join Us On:</h2>
            <div class="carousel">
                <div class="carousel-item vrchat">
                    <a href="https://vrchat.com" target="_blank">
                        <img src="./images/vrchat-logo.jpg" alt="VRChat" />
                        <p>Explore vibrant worlds and meet people from across the globe in VRChat.</p>
                    </a>
                </div>
                <div class="carousel-item discord">
                    <a href="https://discord.gg/hyMKpcE5pw" target="_blank">
                        <img src="./images/discord-logo.jpg" alt="Discord" />
                        <p>Engage with our community through real-time chat, events, and updates.</p>
                    </a>
                </div>
                <div class="carousel-item fivem">
                    <a href="https://fivem.net" target="_blank">
                        <img src="./images/fivem-logo.jpg" alt="FiveM" />
                        <p>Immerse yourself in custom roleplay scenarios and unique game modes.</p>
                    </a>
                </div>
                <div class="carousel-item minecraft">
                    <a href="https://minecraft.net" target="_blank">
                        <img src="./images/minecraft-logo.jpg" alt="Minecraft" />
                        <p>Unleash your creativity in our collaborative Minecraft servers.</p>
                    </a>
                </div>
            </div>
            <div class="discord-widget">
                <h3>Join Our Discord Server</h3>
                <div id="discord-widget-container">
                    <p>Loading server information...</p>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer-content star-wars-footer">
        <p class="holographic-effect">&copy; 2023-2026 Virtual Reality Entertainment & VRE Labs. Made with love by VRE Labs.</p>
        <ul class="social-links">
            <li><a href="https://x.com/VRE_Group" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a></li>
            <li><a href="https://bsky.app/profile/vrentertainment.bsky.social" target="_blank" aria-label="Bluesky"><i class="fas fa-cloud"></i></a></li>
            <li><a href="https://www.youtube.com/@VirtualRealityEntertainment/featured" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a></li>
        </ul>
    </footer>
    <script>
        function verifyPassword() {
            const password = prompt("Please enter the password to access Staff Training:");
            if (password === "VRELabs") {
                return true; // Allow navigation
            } else {
                alert("Incorrect password. Access denied.");
                return false; // Prevent navigation
            }
        }

        // Confetti effect for April 12th
        function startConfetti() {
            const confettiContainer = document.createElement('div');
            confettiContainer.style.position = 'fixed';
            confettiContainer.style.top = '0';
            confettiContainer.style.left = '0';
            confettiContainer.style.width = '100%';
            confettiContainer.style.height = '100%';
            confettiContainer.style.pointerEvents = 'none';
            confettiContainer.style.zIndex = '9999';
            document.body.appendChild(confettiContainer);

            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.top = `${-Math.random() * 20}px`;
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.opacity = Math.random();
                confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear infinite`;
                confettiContainer.appendChild(confetti);
            }

            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fall {
                    0% { transform: translateY(0) rotate(0deg); }
                    100% { transform: translateY(100vh) rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
        }

        // Check if today is April 12th
        const today = new Date();
        if (today.getMonth() === 3 && today.getDate() === 8) { // April is month 3 (0-indexed)
            startConfetti();
        }

        async function loadDiscordWidget() {
            const container = document.getElementById('discord-widget-container');
            try {
                const response = await fetch('https://discord.com/api/guilds/1341672619530911745/widget.json');
                if (!response.ok) throw new Error('Failed to fetch Discord widget data.');
                const data = await response.json();

                const membersByRole = {}; // Group members by their top-most role
                data.members.forEach(member => {
                    const role = member.status || 'No Role'; // Use status or fallback to 'No Role'
                    if (!membersByRole[role]) membersByRole[role] = [];
                    membersByRole[role].push(member);
                });

                container.innerHTML = `
                    <div class="discord-server-info">
                        <img src="${data.icon ? `https://cdn.discordapp.com/icons/${data.id}/${data.icon}.png` : './images/discord-placeholder.png'}" alt="${data.name}" class="discord-server-icon">
                        <h4>${data.name}</h4>
                        <p>${data.presence_count} members online</p>
                    </div>
                    ${Object.entries(membersByRole).map(([role, members]) => `
                        <div class="discord-role-group">
                            <h5>${role}</h5>
                            <ul class="discord-members-grid">
                                ${members.map(member => `
                                    <li>
                                        <img src="${member.avatar_url}" alt="${member.username}" class="discord-member-avatar">
                                        <span>${member.username}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    `).join('')}
                    <a href="${data.instant_invite}" target="_blank" class="cta-button">Join Us on Discord</a>
                `;
            } catch (error) {
                container.innerHTML = `<p>Error loading Discord widget. Please try again later.</p>`;
                console.error(error);
            }
        }

        loadDiscordWidget();
    </script>
</body>
</html>
